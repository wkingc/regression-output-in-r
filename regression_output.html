<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>regression_output.utf8</title>

<script src="regression_output_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="regression_output_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="regression_output_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="regression_output_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="regression_output_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="regression_output_files/navigation-1.1/tabsets.js"></script>
<script src="regression_output_files/navigation-1.1/codefolding.js"></script>
<link href="regression_output_files/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="regression_output_files/highlightjs-9.12.0/highlight.js"></script>
<link href="regression_output_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="regression_output_files/anchor-sections-1.0/anchor-sections.js"></script>
<script src="regression_output_files/kePrint-0.0.1/kePrint.js"></script>
<link href="regression_output_files/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="regression_output.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This presentation uses the R programming language and assumes the end user is taking advantage of RStudio IDE to compile their R markdown files into HTML <span class="citation">(R Core Team <a href="#ref-Rlang2019" role="doc-biblioref">2019</a>; RStudio Team <a href="#ref-Rstudio" role="doc-biblioref">2016</a>)</span>. All of the files needed to reproduce these results can be downloaded from the Git repository <code>git clone <span>https</span>://git.waderstats.com/regression_output/</code>.</p>
<p>The general linear model (GLM), more commonly called linear regression, is the most common statistical modeling tool a statistician or data scientist will use. As such, it is crucial to know how to present results from a GLM in a way that is understandable to your audience.</p>
<p>The GLM assumes that the conditional distribution of the <span class="math inline">\(i^{th}\)</span> response is normal with expectation that is a linear function of a set of <span class="math inline">\(p\)</span> predictors with uncorrelated errors that represent the aggregate omitted causes of Y (equation <a href="#eq:ols">(1)</a>) <span class="citation">(Fox <a href="#ref-fox2008applied" role="doc-biblioref">2008</a>)</span>.</p>
<p><span class="math display" id="eq:ols">\[\begin{equation} 
  Y_{i} \sim N(\beta_0 + X_{i1}\beta_{1} + + X_{i2}\beta_{2} + ... + X_{ip}\beta_{p}, \sigma_{\epsilon}^2)
  \tag{1}
\end{equation}\]</span></p>
</div>
<div id="required-libraries" class="section level1">
<h1>Required Libraries</h1>
<p>The libraries <i>knitr</i>, <i>bookdown</i>, and <i>kableExtra</i> are used to generate the HTML output <span class="citation">(Xie <a href="#ref-knitr" role="doc-biblioref">2019</a>, <a href="#ref-bookdown" role="doc-biblioref">2018</a>; Zhu <a href="#ref-kableExtra" role="doc-biblioref">2019</a>)</span>. The <i>ggplot2</i> library is loaded for the example data set that is used in this presentation <span class="citation">(Wickham <a href="#ref-ggplot2" role="doc-biblioref">2016</a>)</span>. The <i>Hmisc</i> library provides functionality needed to create variable labels <span class="citation">(Harrell Jr, Charles Dupont, and others. <a href="#ref-Hmisc" role="doc-biblioref">2019</a>)</span>. Regression diagnostics are plotted using the <i>ggfortify</i> package <span class="citation">(Tang, Horikoshi, and Li <a href="#ref-ggfortify" role="doc-biblioref">2016</a>)</span>. The <i>stargazer</i> library will be used create nice looking regression output <span class="citation">(Hlavac <a href="#ref-stargazer" role="doc-biblioref">2018</a>)</span>.</p>
<pre class="r"><code>package_loader &lt;- function(x, ...) {
  if (x %in% rownames(installed.packages()) == FALSE) install.packages(x)
  library(x, ...)
}

packages &lt;- c(&quot;knitr&quot;, &quot;bookdown&quot;, &quot;kableExtra&quot;, &quot;ggplot2&quot;, &quot;Hmisc&quot;, &quot;ggfortify&quot;, &quot;stargazer&quot;)

invisible(sapply(X = packages, FUN = package_loader, character.only = TRUE))</code></pre>
</div>
<div id="example-data-setup" class="section level1">
<h1>Example Data Setup</h1>
<p>The data set used in this presentation is <b>mpg</b> from the <i>ggplot2</i> package. From the description in the manual:</p>
<blockquote>
<p>This dataset contains a subset of the fuel economy data that the EPA makes available <a href="http://fueleconomy.gov" target="_blank">here</a>. It contains only models which had a new release every year between 1999 and 2008 - this was used as a proxy for the popularity of the car.</p>
</blockquote>
<pre class="r"><code>set.seed(123)
data(mpg)
mpg &lt;- data.frame(mpg)

colnames(mpg)[which(colnames(mpg) == &quot;manufacturer&quot;)] &lt;- &quot;manu&quot;

mpg$manu &lt;- factor(mpg$manu)
mpg$model &lt;- factor(mpg$model)
mpg$displ &lt;- as.numeric(mpg$displ)
mpg$year &lt;- factor(mpg$year, levels = c(&quot;1999&quot;, &quot;2008&quot;), ordered = TRUE)

mpg$dp &lt;- as.Date(NA, origin = &quot;1970-01-01&quot;)
mpg$dp[which(mpg$year == &quot;1999&quot;)] &lt;- sample(seq(as.Date(&#39;1999-01-01&#39;, format = &quot;%Y-%m-%d&quot;, origin = &quot;1970-01-01&quot;), as.Date(&#39;1999-12-25&#39;, format = &quot;%Y-%m-%d&quot;, origin = &quot;1970-01-01&quot;), by=&quot;day&quot;), dim(mpg)[1]/2)
mpg$dp[which(mpg$year == &quot;2008&quot;)] &lt;- sample(seq(as.Date(&#39;2008-01-01&#39;, format = &quot;%Y-%m-%d&quot;, origin = &quot;1970-01-01&quot;), as.Date(&#39;2008-12-25&#39;, format = &quot;%Y-%m-%d&quot;, origin = &quot;1970-01-01&quot;), by=&quot;day&quot;), dim(mpg)[1]/2)

mpg$cyl &lt;- factor(mpg$cyl, levels = c(4, 5, 6, 8), ordered = TRUE)
mpg$trans &lt;- factor(mpg$trans)
mpg$drv &lt;- factor(mpg$drv, levels = c(&quot;f&quot;, &quot;r&quot;, &quot;4&quot;), labels = c(&quot;front-wheel drive&quot;, &quot;rear wheel drive&quot;, &quot;4wd&quot;))
mpg$fl &lt;- factor(mpg$fl)
mpg$class &lt;- factor(mpg$class)

mpg$rn &lt;- rnorm(dim(mpg)[1], mean = 10, sd = 5)
mpg$rn[sample(1:length(mpg$rn), size = 50)] &lt;- NA

mpg$party &lt;- factor(sample(c(&quot;republican&quot;, &quot;democrat&quot;, &quot;independent&quot;, NA), dim(mpg)[1], replace = TRUE), levels = c(&quot;republican&quot;, &quot;democrat&quot;, &quot;independent&quot;))
mpg$comments &lt;- sample(c(&quot;I like this car!&quot;, &quot;Meh.&quot;, &quot;This is the worst car ever!&quot;, &quot;Does it come in green?&quot;, &quot;want cheese flavoured cars.&quot;, &quot;Does it also fly?&quot;, &quot;Blah, Blah, Blah, Blah, Blah, Blah, Blah, Blah&quot;, NA), dim(mpg)[1], replace = TRUE)

label(mpg$manu) &lt;- &quot;manufacturer&quot;
label(mpg$model) &lt;- &quot;model name&quot;
label(mpg$displ) &lt;- &quot;engine displacement, in litres&quot;
label(mpg$year) &lt;- &quot;year of manufacture&quot;
label(mpg$dp) &lt;- &quot;date of purchase&quot;
label(mpg$cyl) &lt;- &quot;number of cylinders&quot;
label(mpg$trans) &lt;- &quot;type of transmission&quot;
label(mpg$drv) &lt;- &quot;drive type&quot;
label(mpg$cty) &lt;- &quot;city miles per gallon&quot;
label(mpg$hwy) &lt;- &quot;highway miles per gallon&quot;
label(mpg$fl) &lt;- &quot;fuel type&quot;
label(mpg$class) &lt;- &quot;type of car&quot;
label(mpg$rn) &lt;- &quot;some random numbers that are generated from a normal distrubtion with mean = 10 and sd = 5&quot;
label(mpg$party) &lt;- &quot;some random political parties&quot;
label(mpg$comments) &lt;- &quot;some random comments&quot;

kable(head(mpg), caption = &quot;Header of &lt;b&gt;mpg&lt;/b&gt;.&quot;, booktabs = TRUE, escape = FALSE) %&gt;% kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:ExampleDataSetup">Table 1: </span>Header of <b>mpg</b>.
</caption>
<thead>
<tr>
<th style="text-align:left;">
manu
</th>
<th style="text-align:left;">
model
</th>
<th style="text-align:right;">
displ
</th>
<th style="text-align:left;">
year
</th>
<th style="text-align:left;">
cyl
</th>
<th style="text-align:left;">
trans
</th>
<th style="text-align:left;">
drv
</th>
<th style="text-align:right;">
cty
</th>
<th style="text-align:right;">
hwy
</th>
<th style="text-align:left;">
fl
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
dp
</th>
<th style="text-align:right;">
rn
</th>
<th style="text-align:left;">
party
</th>
<th style="text-align:left;">
comments
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
audi
</td>
<td style="text-align:left;">
a4
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:left;">
1999
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
auto(l5)
</td>
<td style="text-align:left;">
front-wheel drive
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
compact
</td>
<td style="text-align:left;">
1999-06-28
</td>
<td style="text-align:right;">
18.98570
</td>
<td style="text-align:left;">
democrat
</td>
<td style="text-align:left;">
I like this car!
</td>
</tr>
<tr>
<td style="text-align:left;">
audi
</td>
<td style="text-align:left;">
a4
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:left;">
1999
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
manual(m5)
</td>
<td style="text-align:left;">
front-wheel drive
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
compact
</td>
<td style="text-align:left;">
1999-01-14
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
I like this car!
</td>
</tr>
<tr>
<td style="text-align:left;">
audi
</td>
<td style="text-align:left;">
a4
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:left;">
2008
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
manual(m6)
</td>
<td style="text-align:left;">
front-wheel drive
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
compact
</td>
<td style="text-align:left;">
2008-02-08
</td>
<td style="text-align:right;">
19.50450
</td>
<td style="text-align:left;">
independent
</td>
<td style="text-align:left;">
Does it also fly?
</td>
</tr>
<tr>
<td style="text-align:left;">
audi
</td>
<td style="text-align:left;">
a4
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:left;">
2008
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
auto(av)
</td>
<td style="text-align:left;">
front-wheel drive
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
compact
</td>
<td style="text-align:left;">
2008-07-14
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
independent
</td>
<td style="text-align:left;">
I like this car!
</td>
</tr>
<tr>
<td style="text-align:left;">
audi
</td>
<td style="text-align:left;">
a4
</td>
<td style="text-align:right;">
2.8
</td>
<td style="text-align:left;">
1999
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
auto(l5)
</td>
<td style="text-align:left;">
front-wheel drive
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
compact
</td>
<td style="text-align:left;">
1999-07-14
</td>
<td style="text-align:right;">
13.68097
</td>
<td style="text-align:left;">
democrat
</td>
<td style="text-align:left;">
Meh.
</td>
</tr>
<tr>
<td style="text-align:left;">
audi
</td>
<td style="text-align:left;">
a4
</td>
<td style="text-align:right;">
2.8
</td>
<td style="text-align:left;">
1999
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
manual(m5)
</td>
<td style="text-align:left;">
front-wheel drive
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:left;">
p
</td>
<td style="text-align:left;">
compact
</td>
<td style="text-align:left;">
1999-11-02
</td>
<td style="text-align:right;">
16.82888
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Meh.
</td>
</tr>
</tbody>
</table>
</div>
<div id="city-mpg-regression" class="section level1">
<h1>City MPG Regression</h1>
<p>Model building starts with what predictors we hypothesize that the outcome depends on. In this case, I hypothesize that miles per gallon in the city and highway depends on a constant, engine displacement, year of manufacture, the number of cylinders, drive type, fuel type, and type of car, some random numbers, and political party affiliation (equations <a href="#eq:cty">(2)</a> and <a href="#eq:hwy">(3)</a>).</p>
<p><span class="math display" id="eq:cty">\[\begin{equation} 
  cty_{i} = \beta_0 + dipl_{i}\beta_{1} + year_{i}\beta_{2} + cyl_{i}\beta_{3} + drv_{i}\beta_{4} + \\class_{i}\beta_{5} + rn_{i}\beta_{6} + party_{i}\beta_{7} + \epsilon_{i}
  \tag{2}
\end{equation}\]</span></p>
<p><span class="math display" id="eq:hwy">\[\begin{equation} 
  hwy_{i} = \beta_0 + dipl_{i}\beta_{1} + year_{i}\beta_{2} + cyl_{i}\beta_{3} + drv_{i}\beta_{4} + \\class_{i}\beta_{5} + rn_{i}\beta_{6} + party_{i}\beta_{7} + \epsilon_{i}
  \tag{3}
\end{equation}\]</span></p>
<div id="regression-diagnostics" class="section level2">
<h2>Regression Diagnostics</h2>
<p>The regression diagnostics show a few problems. The residuals vs. fitted plot shows a few points that have large residuals. These points translate to a normal quantile plot with a large discrepancy between the standardized residuals and the theoretical quantiles on the tail. From the scale location plots, we see relative homoscedasticity except for the outliers. The plot of Cook’s distance, a measure of influence on the fit, shows that the outliers have a disproportionate influence on the estimates in the final fit.</p>
<pre class="r"><code>ctyFit &lt;- lm(cty ~ displ + year + cyl + drv + class + rn + party, data = mpg)

autoplot(ctyFit, which = c(1, 2, 3, 4), ncol = 2, label.size = 3)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:ctyRegression"></span>
<img src="regression_output_files/figure-html/ctyRegression-1.png" alt="City MPG Regression Diagnostics" width="768" />
<p class="caption">
Figure 1: City MPG Regression Diagnostics
</p>
</div>
<pre class="r"><code>hwyFit &lt;- lm(hwy ~ displ + year + cyl + drv + class + rn + party, data = mpg)

autoplot(hwyFit, which = c(1, 2, 3, 4), ncol = 2, label.size = 3)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:hwyRegression"></span>
<img src="regression_output_files/figure-html/hwyRegression-1.png" alt="Highway MPG Regression Diagnostics" width="768" />
<p class="caption">
Figure 2: Highway MPG Regression Diagnostics
</p>
</div>
</div>
<div id="regression" class="section level2">
<h2>Regression Output</h2>
<p>The regression starts with re-fitting the models with the problem points removed. Finally, we use the <i>stargazer</i> function to print the results. To customzie the disply the results, we also need a bit of css which can be downloaded <a href="https://waderstats.com/rstudio-files/regression_output/regression_output.css" target="_blank">here</a>. The <i>id</i> for the CSS is generated by adding <i>{#regression}</i> to the header of this section. Check the <a href="https://waderstats.com/rstudio-files/regression_output/regression_output.Rmd" target="_blank">markdown</a> to see it in context.</p>
<pre class="r"><code>ctyFit &lt;- lm(cty ~ displ + year + cyl + drv + class + rn + party, data = mpg[c(-213, -223), ])

hwyFit &lt;- lm(hwy ~ displ + year + cyl + drv + class + rn + party, data = mpg[c(-213, -223), ])

depLabels &lt;- c(label(mpg$cty), label(mpg$hwy))

indepLabels &lt;- c(
  &quot;intercept&quot;,
  label(mpg$displ), 
  paste(label(mpg$year), &quot;: &quot;, levels(mpg$year)[2], &quot; (ref = &quot;, levels(mpg$year)[1], &quot;)&quot;, sep = &quot;&quot;),
  paste(label(mpg$cyl), &quot;: &quot;, levels(mpg$cyl)[2], &quot; (ref = &quot;, levels(mpg$cyl)[1], &quot;)&quot;, sep = &quot;&quot;),
  paste(label(mpg$cyl), &quot;: &quot;, levels(mpg$cyl)[3], &quot; (ref = &quot;, levels(mpg$cyl)[1], &quot;)&quot;, sep = &quot;&quot;),
  paste(label(mpg$cyl), &quot;: &quot;, levels(mpg$cyl)[4], &quot; (ref = &quot;, levels(mpg$cyl)[1], &quot;)&quot;, sep = &quot;&quot;),
  paste(label(mpg$drv), &quot;: &quot;, levels(mpg$drv)[2], &quot; (ref = &quot;, levels(mpg$drv)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$drv), &quot;: &quot;, levels(mpg$drv)[3], &quot; (ref = &quot;, levels(mpg$drv)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$class), &quot;: &quot;, levels(mpg$class)[2], &quot; (ref = &quot;, levels(mpg$class)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$class), &quot;: &quot;, levels(mpg$class)[3], &quot; (ref = &quot;, levels(mpg$class)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$class), &quot;: &quot;, levels(mpg$class)[4], &quot; (ref = &quot;, levels(mpg$class)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$class), &quot;: &quot;, levels(mpg$class)[5], &quot; (ref = &quot;, levels(mpg$class)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$class), &quot;: &quot;, levels(mpg$class)[6], &quot; (ref = &quot;, levels(mpg$class)[1], &quot;)&quot;, sep = &quot;&quot;), 
  paste(label(mpg$class), &quot;: &quot;, levels(mpg$class)[7], &quot; (ref = &quot;, levels(mpg$class)[1], &quot;)&quot;, sep = &quot;&quot;), 
  label(mpg$rn),
  paste(label(mpg$party), &quot;: &quot;, levels(mpg$party)[2], &quot; (ref = &quot;, levels(mpg$party)[1], &quot;)&quot;, sep = &quot;&quot;),
  paste(label(mpg$party), &quot;: &quot;, levels(mpg$party)[3], &quot; (ref = &quot;, levels(mpg$party)[1], &quot;)&quot;, sep = &quot;&quot;)
)

stargazer(ctyFit, hwyFit, type = &quot;html&quot;,
          title=&quot;Regression Results&quot;, 
          dep.var.labels = depLabels,
          covariate.labels = indepLabels,
          ci = TRUE,
          ci.level = 0.95,
          single.row = TRUE,
          align = TRUE,
          intercept.bottom = FALSE,
          intercept.top = TRUE
)</code></pre>
<table style="text-align:center">
<caption>
<strong>Regression Results</strong>
</caption>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
city miles per gallon
</td>
<td>
highway miles per gallon
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
intercept
</td>
<td>
22.750<sup>***</sup> (18.368, 27.132)
</td>
<td>
33.366<sup>***</sup> (28.412, 38.320)
</td>
</tr>
<tr>
<td style="text-align:left">
engine displacement, in litres
</td>
<td>
-0.382 (-1.231, 0.466)
</td>
<td>
-0.648 (-1.607, 0.311)
</td>
</tr>
<tr>
<td style="text-align:left">
year of manufacture: 2008 (ref = 1999)
</td>
<td>
0.601<sup>***</sup> (0.167, 1.035)
</td>
<td>
0.991<sup>***</sup> (0.501, 1.482)
</td>
</tr>
<tr>
<td style="text-align:left">
number of cylinders: 5 (ref = 4)
</td>
<td>
-3.414<sup>***</sup> (-5.096, -1.731)
</td>
<td>
-3.302<sup>***</sup> (-5.204, -1.400)
</td>
</tr>
<tr>
<td style="text-align:left">
number of cylinders: 6 (ref = 4)
</td>
<td>
-0.173 (-1.277, 0.930)
</td>
<td>
-0.162 (-1.409, 1.085)
</td>
</tr>
<tr>
<td style="text-align:left">
number of cylinders: 8 (ref = 4)
</td>
<td>
-0.408 (-1.773, 0.957)
</td>
<td>
-0.469 (-2.012, 1.074)
</td>
</tr>
<tr>
<td style="text-align:left">
drive type: rear wheel drive (ref = front-wheel drive)
</td>
<td>
-1.964<sup>**</sup> (-3.541, -0.387)
</td>
<td>
-1.585<sup>*</sup> (-3.368, 0.197)
</td>
</tr>
<tr>
<td style="text-align:left">
drive type: 4wd (ref = front-wheel drive)
</td>
<td>
-2.141<sup>***</sup> (-3.285, -0.996)
</td>
<td>
-2.844<sup>***</sup> (-4.138, -1.551)
</td>
</tr>
<tr>
<td style="text-align:left">
type of car: compact (ref = 2seater)
</td>
<td>
-2.217 (-5.161, 0.727)
</td>
<td>
-3.440<sup>**</sup> (-6.768, -0.112)
</td>
</tr>
<tr>
<td style="text-align:left">
type of car: midsize (ref = 2seater)
</td>
<td>
-2.712<sup>*</sup> (-5.704, 0.281)
</td>
<td>
-3.874<sup>**</sup> (-7.257, -0.491)
</td>
</tr>
<tr>
<td style="text-align:left">
type of car: minivan (ref = 2seater)
</td>
<td>
-4.975<sup>***</sup> (-8.102, -1.847)
</td>
<td>
-7.913<sup>***</sup> (-11.448, -4.378)
</td>
</tr>
<tr>
<td style="text-align:left">
type of car: pickup (ref = 2seater)
</td>
<td>
-4.025<sup>***</sup> (-6.911, -1.138)
</td>
<td>
-8.987<sup>***</sup> (-12.250, -5.724)
</td>
</tr>
<tr>
<td style="text-align:left">
type of car: subcompact (ref = 2seater)
</td>
<td>
-1.453 (-4.320, 1.414)
</td>
<td>
-3.592<sup>**</sup> (-6.833, -0.351)
</td>
</tr>
<tr>
<td style="text-align:left">
type of car: suv (ref = 2seater)
</td>
<td>
-3.673<sup>***</sup> (-6.397, -0.950)
</td>
<td>
-7.731<sup>***</sup> (-10.810, -4.653)
</td>
</tr>
<tr>
<td style="text-align:left">
some random numbers that are generated from a normal distrubtion with mean = 10 and sd = 5
</td>
<td>
-0.039 (-0.092, 0.015)
</td>
<td>
-0.053<sup>*</sup> (-0.113, 0.008)
</td>
</tr>
<tr>
<td style="text-align:left">
some random political parties: democrat (ref = republican)
</td>
<td>
-0.169 (-0.973, 0.634)
</td>
<td>
-0.517 (-1.425, 0.392)
</td>
</tr>
<tr>
<td style="text-align:left">
some random political parties: independent (ref = republican)
</td>
<td>
-0.175 (-0.937, 0.587)
</td>
<td>
-0.298 (-1.160, 0.563)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
139
</td>
<td>
139
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.830
</td>
<td>
0.891
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.807
</td>
<td>
0.876
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error (df = 122)
</td>
<td>
1.722
</td>
<td>
1.946
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic (df = 16; 122)
</td>
<td>
37.128<sup>***</sup>
</td>
<td>
62.027<sup>***</sup>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
</div>
<div id="regression-summary" class="section level2">
<h2>Regression Summary</h2>
<p>Using copy and paste to summarize results leaves a ton of room to make errors. To prevent this, we can summarize the results using inline R code. Check out the <a href="https://waderstats.com/rstudio-files/regression_output/regression_output.Rmd" target="_blank">markdown</a> file for how I did it in this case.</p>
<pre class="r"><code>ctyCoef &lt;- coef(ctyFit)
ctyConf &lt;- confint(ctyFit)
ctyRes &lt;- cbind(ctyCoef, ctyConf)

hwyCoef &lt;- coef(hwyFit)
hwyConf &lt;- confint(hwyFit)
hwyRes &lt;- cbind(hwyCoef, hwyConf)

inlineReg &lt;- function(x, lab) {
  r1 &lt;- round(x[lab, 1], 1)
  r2 &lt;- round(x[lab, 2], 1)
  r3 &lt;- round(x[lab, 3], 1)

  res &lt;- paste(r1, &quot; (95% CI = [&quot;, r2, &quot;,&quot;, r3, &quot;])&quot;, sep = &quot;&quot;)
  
  return(res)
}</code></pre>
<p>The results show that highway MPG is much better than city MPG, with 22.7 (95% CI = [18.3,27.2]) and 33.4 (95% CI = [28.4,38.4]) respectively. We found that as compared to 1999, cars built in 2008 had an increase of 0.6 (95% CI = [0.2,1]) in city MPG and 1 (95% CI = [0.5,1.5]) in highway MPG. We found that minivans have the worst MPG as compared to the referent category, -5 (95% CI = [-8.1,-1.8]) MPG lower in the city and -7.9 (95% CI = [-11.5,-4.3]) MPG lower on the highway.</p>
</div>
</div>
<div id="session-info" class="section level1">
<h1>Session Info</h1>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.0.3 (2020-10-10)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.1 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
## LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## attached base packages:
## [1] stats     graphics  grDevices datasets  utils     methods   base     
## 
## other attached packages:
##  [1] stargazer_5.2.2  ggfortify_0.4.11 Hmisc_4.4-1      Formula_1.2-4   
##  [5] survival_3.2-7   lattice_0.20-41  ggplot2_3.3.2    kableExtra_1.3.1
##  [9] bookdown_0.21    knitr_1.30      
## 
## loaded via a namespace (and not attached):
##  [1] tidyselect_1.1.0    xfun_0.19           purrr_0.3.4        
##  [4] splines_4.0.3       colorspace_2.0-0    vctrs_0.3.4        
##  [7] generics_0.1.0      htmltools_0.5.0     viridisLite_0.3.0  
## [10] yaml_2.2.1          base64enc_0.1-3     rlang_0.4.8        
## [13] pillar_1.4.6        foreign_0.8-79      glue_1.4.2         
## [16] withr_2.3.0         RColorBrewer_1.1-2  jpeg_0.1-8.1       
## [19] lifecycle_0.2.0     stringr_1.4.0       munsell_0.5.0      
## [22] gtable_0.3.0        rvest_0.3.6         htmlwidgets_1.5.2  
## [25] evaluate_0.14       labeling_0.4.2      latticeExtra_0.6-29
## [28] highr_0.8           htmlTable_2.1.0     backports_1.2.0    
## [31] checkmate_2.0.0     renv_0.12.2         scales_1.1.1       
## [34] webshot_0.5.2       farver_2.0.3        gridExtra_2.3      
## [37] png_0.1-7           digest_0.6.27       stringi_1.5.3      
## [40] dplyr_1.0.2         grid_4.0.3          tools_4.0.3        
## [43] magrittr_1.5        tibble_3.0.4        cluster_2.1.0      
## [46] tidyr_1.1.2         crayon_1.3.4        pkgconfig_2.0.3    
## [49] ellipsis_0.3.1      Matrix_1.2-18       data.table_1.13.2  
## [52] xml2_1.3.2          rmarkdown_2.5       httr_1.4.2         
## [55] rstudioapi_0.13     R6_2.5.0            rpart_4.1-15       
## [58] nnet_7.3-14         compiler_4.0.3</code></pre>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<!-- This is needed to resize iframe content. Please ignore if duplicationg this R markdown file -->
<script type="text/javascript" src="https://www.waderstats.com/wp-includes/js/iframe-resizer/js/iframeResizer.contentWindow.min.js" defer></script>
<div id="refs" class="references">
<div id="ref-fox2008applied">
<p>Fox, John. 2008. <em>Applied Regression Analysis and Generalized Linear Models</em>. Sage Publications.</p>
</div>
<div id="ref-Hmisc">
<p>Harrell Jr, Frank E, with contributions from Charles Dupont, and many others. 2019. <em>Hmisc: Harrell Miscellaneous</em>. <a href="https://CRAN.R-project.org/package=Hmisc">https://CRAN.R-project.org/package=Hmisc</a>.</p>
</div>
<div id="ref-stargazer">
<p>Hlavac, Marek. 2018. <em>Stargazer: Well-Formatted Regression and Summary Statistics Tables</em>. Bratislava, Slovakia: Central European Labour Studies Institute (CELSI). <a href="https://CRAN.R-project.org/package=stargazer">https://CRAN.R-project.org/package=stargazer</a>.</p>
</div>
<div id="ref-Rlang2019">
<p>R Core Team. 2019. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.</p>
</div>
<div id="ref-Rstudio">
<p>RStudio Team. 2016. <em>RStudio: Integrated Development Environment for R</em>. Boston, MA: RStudio, Inc. <a href="http://www.rstudio.com/">http://www.rstudio.com/</a>.</p>
</div>
<div id="ref-ggfortify">
<p>Tang, Yuan, Masaaki Horikoshi, and Wenxuan Li. 2016. “Ggfortify: Unified Interface to Visualize Statistical Result of Popular R Packages.” <em>The R Journal</em> 8 (2). <a href="https://journal.r-project.org/">https://journal.r-project.org/</a>.</p>
</div>
<div id="ref-ggplot2">
<p>Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="http://ggplot2.org">http://ggplot2.org</a>.</p>
</div>
<div id="ref-bookdown">
<p>Xie, Yihui. 2018. <em>Bookdown: Authoring Books and Technical Documents with R Markdown</em>. <a href="https://github.com/rstudio/bookdown">https://github.com/rstudio/bookdown</a>.</p>
</div>
<div id="ref-knitr">
<p>———. 2019. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href="https://yihui.name/knitr/">https://yihui.name/knitr/</a>.</p>
</div>
<div id="ref-kableExtra">
<p>Zhu, Hao. 2019. <em>KableExtra: Construct Complex Table with ’Kable’ and Pipe Syntax</em>. <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a>.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "regression_output_files/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
